{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/jangjaehyeok/LikeLion/inhaHackerton/Frontend/react-team5/FE/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8,_templateObject9,_templateObject10;import React,{useState,useEffect}from\"react\";import styled from\"styled-components\";import Header from\"../components/Header\";import Sidebar from\"../components/Sidebar\";import{useParams}from\"react-router-dom\";import axios from'axios';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Container=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: row;\\n  min-height: 100vh;\\n  background-color: #fff;\\n\"])));const MainContent=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  flex: 1;\\n  padding: 20px;\\n\"])));const PostTitle=styled.h1(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  font-size: 24px;\\n  margin-bottom: 10px;\\n\"])));const PostInfo=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  font-size: 14px;\\n  color: #666;\\n  margin-bottom: 20px;\\n\"])));const PostBody=styled.div(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  font-size: 16px;\\n  line-height: 1.6;\\n  margin-bottom: 30px;\\n\"])));const CommentSection=styled.div(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n  margin-top: 30px;\\n\"])));const CommentForm=styled.form(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\n  display: flex;\\n  margin-bottom: 20px;\\n\"])));const CommentInput=styled.input(_templateObject8||(_templateObject8=_taggedTemplateLiteral([\"\\n  flex: 1;\\n  padding: 10px;\\n  font-size: 14px;\\n  border: 1px solid #ddd;\\n  border-radius: 5px 0 0 5px;\\n\"])));const CommentSubmit=styled.button(_templateObject9||(_templateObject9=_taggedTemplateLiteral([\"\\n  padding: 10px 20px;\\n  background-color: #ffd43b;\\n  color: #0a124d;\\n  border: none;\\n  border-radius: 0 5px 5px 0;\\n  cursor: pointer;\\n\"])));const Comment=styled.div(_templateObject10||(_templateObject10=_taggedTemplateLiteral([\"\\n  background-color: #f5f5f5;\\n  padding: 10px;\\n  margin-bottom: 10px;\\n  border-radius: 5px;\\n\"])));const PostRead=()=>{const{postId}=useParams();const[postData,setPostData]=useState(null);const[comments,setComments]=useState([]);const[newComment,setNewComment]=useState(\"\");const[isLoading,setIsLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{const fetchPostData=async()=>{setIsLoading(true);setError(null);try{const postResponse=await axios.get(\"http://43.200.226.225/intern/community/\".concat(postId));setPostData(postResponse.data);const commentResponse=await axios.get(\"http://43.200.226.225/post/comments/list/\".concat(postId,\" \"));setComments(commentResponse.data);}catch(error){console.error('Error fetching data:',error);setError('데이터를 불러오는 데 실패했습니다.');}finally{setIsLoading(false);}};fetchPostData();},[postId]);const handleCommentSubmit=async e=>{e.preventDefault();if(newComment.trim()){try{const response=await axios.post(\"http://43.200.226.225/comments/\".concat(postId),{content:newComment});setComments([...comments,response.data]);setNewComment(\"\");}catch(error){console.error('Error submitting comment:',error);}}};if(isLoading)return/*#__PURE__*/_jsx(\"div\",{children:\"\\uB85C\\uB529 \\uC911...\"});if(error)return/*#__PURE__*/_jsxs(\"div\",{children:[\"\\uC5D0\\uB7EC: \",error]});if(!postData)return/*#__PURE__*/_jsx(\"div\",{children:\"\\uAC8C\\uC2DC\\uAE00\\uC744 \\uCC3E\\uC744 \\uC218 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"});return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Sidebar,{}),/*#__PURE__*/_jsxs(MainContent,{children:[/*#__PURE__*/_jsx(PostTitle,{children:postData.title}),/*#__PURE__*/_jsxs(PostInfo,{children:[\"\\uC791\\uC131\\uC790: \",postData.author_id||'익명',\" | \\uC791\\uC131\\uC77C: \",postData.created_at||'Unknown date']}),/*#__PURE__*/_jsx(PostBody,{children:postData.content}),/*#__PURE__*/_jsxs(CommentSection,{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uB313\\uAE00\"}),/*#__PURE__*/_jsxs(CommentForm,{onSubmit:handleCommentSubmit,children:[/*#__PURE__*/_jsx(CommentInput,{type:\"text\",value:newComment,onChange:e=>setNewComment(e.target.value),placeholder:\"\\uB313\\uAE00\\uC744 \\uC785\\uB825\\uD558\\uC138\\uC694\"}),/*#__PURE__*/_jsx(CommentSubmit,{type:\"submit\",children:\"\\uB4F1\\uB85D\"})]}),comments.map(comment=>/*#__PURE__*/_jsxs(Comment,{children:[/*#__PURE__*/_jsxs(\"strong\",{children:[comment.author_id||'익명',\": \"]}),comment.content]},comment.id))]})]})]})]});};export default PostRead;","map":{"version":3,"names":["React","useState","useEffect","styled","Header","Sidebar","useParams","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Container","div","_templateObject","_taggedTemplateLiteral","MainContent","_templateObject2","PostTitle","h1","_templateObject3","PostInfo","_templateObject4","PostBody","_templateObject5","CommentSection","_templateObject6","CommentForm","form","_templateObject7","CommentInput","input","_templateObject8","CommentSubmit","button","_templateObject9","Comment","_templateObject10","PostRead","postId","postData","setPostData","comments","setComments","newComment","setNewComment","isLoading","setIsLoading","error","setError","fetchPostData","postResponse","get","concat","data","commentResponse","console","handleCommentSubmit","e","preventDefault","trim","response","post","content","children","title","author_id","created_at","onSubmit","type","value","onChange","target","placeholder","map","comment","id"],"sources":["/Users/jangjaehyeok/LikeLion/inhaHackerton/Frontend/react-team5/FE/src/pages/PostRead.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport Header from \"../components/Header\";\nimport Sidebar from \"../components/Sidebar\";\nimport { useParams } from \"react-router-dom\";\nimport axios from 'axios';\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: row;\n  min-height: 100vh;\n  background-color: #fff;\n`;\n\nconst MainContent = styled.div`\n  flex: 1;\n  padding: 20px;\n`;\n\nconst PostTitle = styled.h1`\n  font-size: 24px;\n  margin-bottom: 10px;\n`;\n\nconst PostInfo = styled.div`\n  font-size: 14px;\n  color: #666;\n  margin-bottom: 20px;\n`;\n\nconst PostBody = styled.div`\n  font-size: 16px;\n  line-height: 1.6;\n  margin-bottom: 30px;\n`;\n\nconst CommentSection = styled.div`\n  margin-top: 30px;\n`;\n\nconst CommentForm = styled.form`\n  display: flex;\n  margin-bottom: 20px;\n`;\n\nconst CommentInput = styled.input`\n  flex: 1;\n  padding: 10px;\n  font-size: 14px;\n  border: 1px solid #ddd;\n  border-radius: 5px 0 0 5px;\n`;\n\nconst CommentSubmit = styled.button`\n  padding: 10px 20px;\n  background-color: #ffd43b;\n  color: #0a124d;\n  border: none;\n  border-radius: 0 5px 5px 0;\n  cursor: pointer;\n`;\n\nconst Comment = styled.div`\n  background-color: #f5f5f5;\n  padding: 10px;\n  margin-bottom: 10px;\n  border-radius: 5px;\n`;\n\nconst PostRead = () => {\n  const { postId } = useParams();\n  const [postData, setPostData] = useState(null);\n  const [comments, setComments] = useState([]);\n  const [newComment, setNewComment] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const fetchPostData = async () => {\n      setIsLoading(true);\n      setError(null);\n      try {\n        const postResponse = await axios.get(`http://43.200.226.225/intern/community/${postId}`);\n        setPostData(postResponse.data);\n        \n        const commentResponse = await axios.get(`http://43.200.226.225/post/comments/list/${postId} `);\n        setComments(commentResponse.data);\n      } catch (error) {\n        console.error('Error fetching data:', error);\n        setError('데이터를 불러오는 데 실패했습니다.');\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    fetchPostData();\n  }, [postId]);\n\n  const handleCommentSubmit = async (e) => {\n    e.preventDefault();\n    if (newComment.trim()) {\n      try {\n        const response = await axios.post(`http://43.200.226.225/comments/${postId}`, {\n          content: newComment\n        });\n        setComments([...comments, response.data]);\n        setNewComment(\"\");\n      } catch (error) {\n        console.error('Error submitting comment:', error);\n      }\n    }\n  };\n\n  if (isLoading) return <div>로딩 중...</div>;\n  if (error) return <div>에러: {error}</div>;\n  if (!postData) return <div>게시글을 찾을 수 없습니다.</div>;\n\n  return (\n    <>\n      <Header />\n      <Container>\n        <Sidebar />\n        <MainContent>\n          <PostTitle>{postData.title}</PostTitle>\n          <PostInfo>\n            작성자: {postData.author_id || '익명'} | 작성일: {postData.created_at || 'Unknown date'}\n          </PostInfo>\n          <PostBody>{postData.content}</PostBody>\n          <CommentSection>\n            <h3>댓글</h3>\n            <CommentForm onSubmit={handleCommentSubmit}>\n              <CommentInput\n                type=\"text\"\n                value={newComment}\n                onChange={(e) => setNewComment(e.target.value)}\n                placeholder=\"댓글을 입력하세요\"\n              />\n              <CommentSubmit type=\"submit\">등록</CommentSubmit>\n            </CommentForm>\n            {comments.map((comment) => (\n              <Comment key={comment.id}>\n                <strong>{comment.author_id || '익명'}: </strong>\n                {comment.content}\n              </Comment>\n            ))}\n          </CommentSection>\n        </MainContent>\n      </Container>\n    </>\n  );\n};\n\nexport default PostRead;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}